<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sports Betting Intelligence | Global Monitor</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚öΩ</text></svg>">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Rajdhani:wght@300;400;500;600;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0a0f;
            --bg-secondary: #12121a;
            --bg-tertiary: #1a1a25;
            --bg-card: #15151f;
            --accent-primary: #00f5ff;
            --accent-secondary: #bf00ff;
            --accent-tertiary: #ff00aa;
            --accent-gold: #ffd700;
            --accent-green: #00ff88;
            --accent-red: #ff3366;
            --accent-orange: #ff8c00;
            --accent-blue: #4169e1;
            --text-primary: #ffffff;
            --text-secondary: #a0a0b0;
            --text-muted: #606070;
            --border-glow: rgba(0, 245, 255, 0.3);
            --gradient-cyber: linear-gradient(135deg, #00f5ff 0%, #bf00ff 50%, #ff00aa 100%);
            --gradient-dark: linear-gradient(180deg, #12121a 0%, #0a0a0f 100%);
            --gradient-value: linear-gradient(135deg, #00ff88, #00f5ff);
            --gradient-alert: linear-gradient(135deg, #ff3366, #ff8c00);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Rajdhani', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Background Effects */
        .bg-grid {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background-image: 
                linear-gradient(rgba(0, 245, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 245, 255, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            pointer-events: none;
            z-index: 0;
        }

        .bg-glow {
            position: fixed;
            width: 600px; height: 600px;
            border-radius: 50%;
            filter: blur(150px);
            opacity: 0.12;
            pointer-events: none;
            z-index: 0;
        }
        .bg-glow-1 { top: -200px; left: -200px; background: var(--accent-primary); animation: float 20s ease-in-out infinite; }
        .bg-glow-2 { bottom: -200px; right: -200px; background: var(--accent-secondary); animation: float 25s ease-in-out infinite reverse; }
        .bg-glow-3 { top: 50%; left: 50%; transform: translate(-50%, -50%); background: var(--accent-green); animation: float 30s ease-in-out infinite; }

        @keyframes float {
            0%, 100% { transform: translate(0, 0); }
            50% { transform: translate(100px, 50px); }
        }

        /* Header */
        header {
            position: relative;
            z-index: 100;
            background: rgba(10, 10, 15, 0.95);
            border-bottom: 1px solid var(--border-glow);
            backdrop-filter: blur(20px);
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 2rem;
            max-width: 1920px;
            margin: 0 auto;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logo-icon {
            width: 50px; height: 50px;
            background: var(--gradient-cyber);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            box-shadow: 0 0 30px rgba(0, 245, 255, 0.4);
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 30px rgba(0, 245, 255, 0.4); }
            50% { box-shadow: 0 0 50px rgba(0, 245, 255, 0.6); }
        }

        .logo-text {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            background: var(--gradient-cyber);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: 2px;
        }

        .logo-subtitle {
            font-size: 0.7rem;
            color: var(--text-secondary);
            letter-spacing: 3px;
            text-transform: uppercase;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .nav-link {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .nav-link:hover { color: var(--accent-primary); }

        .live-indicator {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: rgba(255, 51, 102, 0.1);
            border: 1px solid var(--accent-red);
            border-radius: 20px;
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.85rem;
            color: var(--accent-red);
        }

        .live-dot {
            width: 8px; height: 8px;
            background: var(--accent-red);
            border-radius: 50%;
            animation: blink 1s ease-in-out infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        /* Status Bar */
        .status-bar {
            display: flex;
            gap: 2rem;
            padding: 0.5rem 2rem;
            background: var(--bg-secondary);
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.75rem;
            color: var(--text-muted);
            overflow-x: auto;
            max-width: 1920px;
            margin: 0 auto;
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            white-space: nowrap;
        }
        .status-item .value { color: var(--accent-primary); }
        .status-item .value.hot { color: var(--accent-red); }
        .status-item .value.good { color: var(--accent-green); }

        /* Sport Tabs */
        .sport-tabs {
            display: flex;
            gap: 0.5rem;
            padding: 1rem 2rem;
            background: var(--bg-secondary);
            overflow-x: auto;
            max-width: 1920px;
            margin: 0 auto;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }

        .sport-tab {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.6rem 1.2rem;
            background: var(--bg-tertiary);
            border: 1px solid transparent;
            border-radius: 8px;
            color: var(--text-secondary);
            font-family: 'Rajdhani', sans-serif;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
        }
        .sport-tab:hover { border-color: var(--border-glow); color: var(--text-primary); }
        .sport-tab.active {
            background: linear-gradient(135deg, rgba(0, 245, 255, 0.15), rgba(191, 0, 255, 0.1));
            border-color: var(--accent-primary);
            color: var(--accent-primary);
        }
        .sport-tab .count {
            background: var(--accent-red);
            color: white;
            font-size: 0.65rem;
            padding: 2px 6px;
            border-radius: 10px;
            font-weight: 700;
        }

        /* Data Layer Toggles */
        .data-layers {
            display: flex;
            gap: 0.75rem;
            padding: 0.75rem 2rem;
            background: rgba(18, 18, 26, 0.8);
            overflow-x: auto;
            max-width: 1920px;
            margin: 0 auto;
        }

        .layer-toggle {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.4rem 0.8rem;
            background: var(--bg-card);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 6px;
            color: var(--text-muted);
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.3s;
            white-space: nowrap;
        }
        .layer-toggle:hover { border-color: var(--accent-primary); color: var(--text-secondary); }
        .layer-toggle.active {
            background: rgba(0, 245, 255, 0.1);
            border-color: var(--accent-primary);
            color: var(--accent-primary);
        }
        .layer-toggle.active.value-bets { background: rgba(0, 255, 136, 0.1); border-color: var(--accent-green); color: var(--accent-green); }
        .layer-toggle.active.weather { background: rgba(65, 105, 225, 0.1); border-color: var(--accent-blue); color: var(--accent-blue); }
        .layer-toggle.active.injuries { background: rgba(255, 51, 102, 0.1); border-color: var(--accent-red); color: var(--accent-red); }
        .layer-toggle.active.cards { background: rgba(255, 140, 0, 0.1); border-color: var(--accent-orange); color: var(--accent-orange); }

        /* Main Layout */
        main {
            position: relative;
            z-index: 10;
            max-width: 1920px;
            margin: 0 auto;
            padding: 1.5rem 2rem;
            display: grid;
            grid-template-columns: 1fr 420px;
            gap: 1.5rem;
        }

        @media (max-width: 1400px) {
            main { grid-template-columns: 1fr; }
        }

        /* Cards */
        .card {
            background: var(--bg-card);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        .card:hover { border-color: var(--border-glow); box-shadow: 0 0 40px rgba(0, 245, 255, 0.1); }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 1.25rem;
            background: var(--bg-tertiary);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .card-title {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.85rem;
            font-weight: 600;
            letter-spacing: 1px;
            text-transform: uppercase;
        }
        .card-title .icon { font-size: 1.2rem; }

        .card-badge {
            padding: 0.25rem 0.75rem;
            background: rgba(0, 245, 255, 0.1);
            border: 1px solid var(--accent-primary);
            border-radius: 20px;
            font-size: 0.65rem;
            color: var(--accent-primary);
            font-family: 'Share Tech Mono', monospace;
        }
        .card-badge.live { background: rgba(255, 51, 102, 0.1); border-color: var(--accent-red); color: var(--accent-red); }
        .card-badge.value { background: rgba(0, 255, 136, 0.1); border-color: var(--accent-green); color: var(--accent-green); }

        .card-body { padding: 1.25rem; }

        /* World Map */
        .world-map-container {
            position: relative;
            height: 420px;
            background: radial-gradient(ellipse at center, var(--bg-tertiary) 0%, var(--bg-card) 100%);
            border-radius: 12px;
            overflow: hidden;
        }

        .world-map-svg {
            width: 100%;
            height: 100%;
        }

        /* Match Markers */
        .match-marker {
            cursor: pointer;
            transition: all 0.3s;
        }
        .match-marker:hover { transform: scale(1.3); }
        
        .marker-pulse {
            animation: markerPulse 2s ease-in-out infinite;
        }
        
        @keyframes markerPulse {
            0%, 100% { r: 6; opacity: 1; }
            50% { r: 10; opacity: 0.6; }
        }

        .timezone-band {
            fill: rgba(0, 245, 255, 0.03);
            stroke: rgba(0, 245, 255, 0.1);
            stroke-width: 0.5;
        }

        .timezone-label {
            font-family: 'Share Tech Mono', monospace;
            font-size: 8px;
            fill: var(--text-muted);
        }

        /* Match Tooltip */
        .map-tooltip {
            position: absolute;
            background: var(--bg-card);
            border: 1px solid var(--accent-primary);
            border-radius: 8px;
            padding: 0.75rem;
            font-size: 0.8rem;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
            z-index: 1000;
            min-width: 200px;
            box-shadow: 0 0 20px rgba(0, 245, 255, 0.3);
        }
        .map-tooltip.visible { opacity: 1; }

        /* Matches Grid */
        .matches-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1rem;
            max-height: 600px;
            overflow-y: auto;
        }

        .match-card {
            background: var(--bg-tertiary);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 1rem;
            transition: all 0.3s ease;
            position: relative;
        }
        .match-card:hover { border-color: var(--accent-primary); transform: translateY(-2px); }
        .match-card.live { border-left: 3px solid var(--accent-red); }
        .match-card.value-bet { border-left: 3px solid var(--accent-green); }

        .match-league {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.75rem;
        }

        .league-info {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        .league-badge {
            padding: 0.15rem 0.5rem;
            background: rgba(191, 0, 255, 0.1);
            border-radius: 4px;
            font-size: 0.65rem;
            color: var(--accent-secondary);
        }

        .match-status {
            display: flex;
            align-items: center;
            gap: 0.4rem;
            font-size: 0.7rem;
            font-weight: 600;
        }
        .match-status.live { color: var(--accent-red); }
        .match-status.upcoming { color: var(--accent-green); }

        .match-time {
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.7rem;
            color: var(--text-muted);
        }

        .match-teams {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            margin-bottom: 0.75rem;
        }

        .team-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.5rem;
            background: var(--bg-card);
            border-radius: 6px;
        }

        .team-info {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .team-flag {
            width: 24px;
            height: 16px;
            border-radius: 2px;
            background: var(--bg-tertiary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
        }

        .team-name {
            font-weight: 600;
            font-size: 0.9rem;
        }

        .team-score {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--accent-primary);
        }

        .team-odds {
            font-family: 'Orbitron', sans-serif;
            font-size: 1rem;
            font-weight: 700;
            color: var(--accent-gold);
            padding: 0.3rem 0.6rem;
            background: rgba(255, 215, 0, 0.1);
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .team-odds:hover { background: rgba(255, 215, 0, 0.2); transform: scale(1.05); }
        .team-odds.moving-up { color: var(--accent-green); background: rgba(0, 255, 136, 0.1); }
        .team-odds.moving-down { color: var(--accent-red); background: rgba(255, 51, 102, 0.1); }

        .match-draw {
            display: flex;
            justify-content: center;
            margin-bottom: 0.75rem;
        }

        .draw-odds {
            font-family: 'Orbitron', sans-serif;
            font-size: 0.85rem;
            color: var(--text-secondary);
            padding: 0.25rem 1rem;
            background: var(--bg-card);
            border-radius: 4px;
            cursor: pointer;
        }
        .draw-odds:hover { color: var(--accent-gold); }

        /* Match Indicators */
        .match-indicators {
            display: flex;
            flex-wrap: wrap;
            gap: 0.4rem;
            margin-top: 0.5rem;
        }

        .indicator {
            display: flex;
            align-items: center;
            gap: 0.3rem;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.65rem;
            font-weight: 600;
        }
        .indicator.weather { background: rgba(65, 105, 225, 0.15); color: var(--accent-blue); }
        .indicator.injury { background: rgba(255, 51, 102, 0.15); color: var(--accent-red); }
        .indicator.cards { background: rgba(255, 140, 0, 0.15); color: var(--accent-orange); }
        .indicator.value { background: rgba(0, 255, 136, 0.15); color: var(--accent-green); }
        .indicator.momentum { background: rgba(191, 0, 255, 0.15); color: var(--accent-secondary); }

        /* Intelligence Panels */
        .intel-feed {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            max-height: 300px;
            overflow-y: auto;
        }

        .intel-item {
            display: flex;
            gap: 0.75rem;
            padding: 0.75rem;
            background: var(--bg-tertiary);
            border-radius: 8px;
            border-left: 3px solid var(--accent-primary);
            transition: all 0.2s;
        }
        .intel-item:hover { background: var(--bg-card); }
        .intel-item.urgent { border-left-color: var(--accent-red); }
        .intel-item.value { border-left-color: var(--accent-green); }
        .intel-item.weather { border-left-color: var(--accent-blue); }

        .intel-icon {
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .intel-content { flex: 1; min-width: 0; }

        .intel-title {
            font-weight: 600;
            font-size: 0.85rem;
            margin-bottom: 0.25rem;
        }

        .intel-text {
            font-size: 0.75rem;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        .intel-meta {
            display: flex;
            gap: 0.75rem;
            font-size: 0.65rem;
            color: var(--text-muted);
            margin-top: 0.5rem;
        }

        /* AI Match Brief */
        .ai-brief {
            background: linear-gradient(135deg, rgba(191, 0, 255, 0.05), rgba(0, 245, 255, 0.05));
            border: 1px solid rgba(191, 0, 255, 0.2);
            border-radius: 12px;
            padding: 1rem;
            margin-bottom: 1rem;
        }

        .ai-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.75rem;
        }

        .ai-avatar {
            width: 40px;
            height: 40px;
            background: var(--gradient-cyber);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .ai-name {
            font-family: 'Orbitron', sans-serif;
            font-size: 0.85rem;
            color: var(--accent-secondary);
        }

        .ai-role {
            font-size: 0.7rem;
            color: var(--text-muted);
        }

        .ai-quote {
            font-style: italic;
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.5;
            position: relative;
            padding-left: 1rem;
            border-left: 2px solid var(--accent-secondary);
        }

        .ai-pick {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 0.75rem;
            padding: 0.5rem;
            background: rgba(0, 255, 136, 0.1);
            border-radius: 6px;
        }

        .ai-pick-label {
            font-size: 0.7rem;
            color: var(--text-muted);
        }

        .ai-pick-value {
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9rem;
            color: var(--accent-green);
            font-weight: 700;
        }

        /* Anomaly Alerts */
        .anomaly-item {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            padding: 0.75rem;
            background: var(--bg-tertiary);
            border-radius: 8px;
            border: 1px solid rgba(255, 51, 102, 0.3);
            margin-bottom: 0.75rem;
            animation: anomalyPulse 2s ease-in-out infinite;
        }

        @keyframes anomalyPulse {
            0%, 100% { box-shadow: 0 0 5px rgba(255, 51, 102, 0.2); }
            50% { box-shadow: 0 0 15px rgba(255, 51, 102, 0.4); }
        }

        .anomaly-icon {
            font-size: 1.5rem;
            animation: shake 0.5s ease-in-out infinite;
        }

        @keyframes shake {
            0%, 100% { transform: rotate(-5deg); }
            50% { transform: rotate(5deg); }
        }

        .anomaly-type {
            font-size: 0.7rem;
            color: var(--accent-red);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .anomaly-title {
            font-weight: 600;
            font-size: 0.85rem;
            margin: 0.25rem 0;
        }

        .anomaly-details {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        /* Country Dashboard */
        .country-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.75rem;
        }

        .country-item {
            background: var(--bg-tertiary);
            border-radius: 8px;
            padding: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        .country-item:hover { background: var(--bg-card); transform: translateX(3px); }

        .country-flag {
            font-size: 1.5rem;
        }

        .country-info {
            flex: 1;
        }

        .country-name {
            font-weight: 600;
            font-size: 0.85rem;
        }

        .country-matches {
            font-size: 0.7rem;
            color: var(--text-muted);
        }

        .country-live {
            background: var(--accent-red);
            color: white;
            font-size: 0.65rem;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 700;
        }

        /* Stats Row */
        .stats-row {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        @media (max-width: 768px) {
            .stats-row { grid-template-columns: repeat(2, 1fr); }
        }

        .stat-box {
            background: var(--bg-tertiary);
            border-radius: 10px;
            padding: 1rem;
            text-align: center;
        }

        .stat-value {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            background: var(--gradient-cyber);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-label {
            font-size: 0.7rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 0.25rem;
        }

        /* Weather Widget */
        .weather-widget {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.75rem;
            background: linear-gradient(135deg, rgba(65, 105, 225, 0.1), rgba(0, 245, 255, 0.05));
            border-radius: 8px;
            margin-bottom: 0.75rem;
        }

        .weather-icon {
            font-size: 2rem;
        }

        .weather-temp {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            color: var(--accent-blue);
        }

        .weather-condition {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .weather-venue {
            font-size: 0.7rem;
            color: var(--text-muted);
        }

        /* Loading */
        .loading {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 3rem;
            color: var(--text-muted);
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 3px solid var(--bg-tertiary);
            border-top-color: var(--accent-primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 1rem;
        }

        @keyframes spin { to { transform: rotate(360deg); } }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: var(--bg-tertiary); }
        ::-webkit-scrollbar-thumb { background: var(--accent-primary); border-radius: 3px; }

        /* Footer */
        footer {
            position: relative;
            z-index: 10;
            padding: 2rem;
            background: var(--bg-secondary);
            border-top: 1px solid rgba(255, 255, 255, 0.05);
            text-align: center;
            margin-top: 2rem;
        }

        .footer-disclaimer {
            font-size: 0.75rem;
            color: var(--text-muted);
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .footer-api-note {
            margin-top: 1rem;
            padding: 0.75rem 1.5rem;
            background: rgba(0, 245, 255, 0.05);
            border: 1px solid var(--border-glow);
            border-radius: 8px;
            display: inline-block;
            font-size: 0.7rem;
            color: var(--accent-primary);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-top { flex-direction: column; gap: 1rem; padding: 1rem; }
            main { padding: 1rem; }
            .matches-grid { grid-template-columns: 1fr; }
            .world-map-container { height: 280px; }
            .sport-tabs { gap: 0.3rem; padding: 0.75rem 1rem; }
            .sport-tab { padding: 0.4rem 0.8rem; font-size: 0.8rem; }
        }
    </style>
</head>
<body>
    <div class="bg-grid"></div>
    <div class="bg-glow bg-glow-1"></div>
    <div class="bg-glow bg-glow-2"></div>
    <div class="bg-glow bg-glow-3"></div>

    <header>
        <div class="header-top">
            <div class="logo">
                <div class="logo-icon">üåç</div>
                <div>
                    <div class="logo-text">SPORTS MONITOR</div>
                    <div class="logo-subtitle">Global Betting Intelligence</div>
                </div>
            </div>
            <div class="header-right">
                <a href="index.html" class="nav-link">üéÆ Esports Monitor</a>
                <div class="live-indicator">
                    <span class="live-dot"></span>
                    <span id="current-time">00:00:00 UTC</span>
                </div>
            </div>
        </div>
        <div class="status-bar">
            <div class="status-item">
                <span>üî¥ LIVE MATCHES:</span>
                <span class="value hot" id="live-count">--</span>
            </div>
            <div class="status-item">
                <span>üìÖ TODAY:</span>
                <span class="value" id="today-count">--</span>
            </div>
            <div class="status-item">
                <span>üíé VALUE BETS:</span>
                <span class="value good" id="value-count">--</span>
            </div>
            <div class="status-item">
                <span>‚ö†Ô∏è ANOMALIES:</span>
                <span class="value hot" id="anomaly-count">--</span>
            </div>
            <div class="status-item">
                <span>üîÑ LAST UPDATE:</span>
                <span class="value" id="last-update">--</span>
            </div>
        </div>
    </header>

    <!-- Sport Tabs -->
    <nav class="sport-tabs">
        <button class="sport-tab active" data-sport="all">
            üåê All Sports <span class="count" id="count-all">--</span>
        </button>
        <button class="sport-tab" data-sport="soccer">
            ‚öΩ Soccer <span class="count" id="count-soccer">--</span>
        </button>
        <button class="sport-tab" data-sport="basketball">
            üèÄ Basketball <span class="count" id="count-basketball">--</span>
        </button>
        <button class="sport-tab" data-sport="tennis">
            üéæ Tennis <span class="count" id="count-tennis">--</span>
        </button>
        <button class="sport-tab" data-sport="american-football">
            üèà NFL <span class="count" id="count-american-football">--</span>
        </button>
        <button class="sport-tab" data-sport="ice-hockey">
            üèí Hockey <span class="count" id="count-ice-hockey">--</span>
        </button>
        <button class="sport-tab" data-sport="baseball">
            ‚öæ Baseball <span class="count" id="count-baseball">--</span>
        </button>
        <button class="sport-tab" data-sport="mma">
            ü•ä MMA/UFC <span class="count" id="count-mma">--</span>
        </button>
        <button class="sport-tab" data-sport="boxing">
            ü•ã Boxing <span class="count" id="count-boxing">--</span>
        </button>
    </nav>

    <!-- Data Layers -->
    <div class="data-layers">
        <div class="layer-toggle active" data-layer="odds">üìä Live Odds</div>
        <div class="layer-toggle active" data-layer="movement">üìà Line Movement</div>
        <div class="layer-toggle injuries" data-layer="injuries">üè• Injury Status</div>
        <div class="layer-toggle weather" data-layer="weather">üå§Ô∏è Weather</div>
        <div class="layer-toggle cards" data-layer="cards">üü® Card Risk</div>
        <div class="layer-toggle value-bets" data-layer="value">üíé Value Bets</div>
        <div class="layer-toggle" data-layer="timezone">üåç Time Zones</div>
    </div>

    <main>
        <!-- Main Content -->
        <div class="main-content">
            <!-- Stats Row -->
            <div class="stats-row">
                <div class="stat-box">
                    <div class="stat-value" id="stat-live">--</div>
                    <div class="stat-label">Live Now</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="stat-today">--</div>
                    <div class="stat-label">Today</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="stat-value">--</div>
                    <div class="stat-label">Value Bets</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="stat-leagues">--</div>
                    <div class="stat-label">Leagues</div>
                </div>
            </div>

            <!-- World Map -->
            <div class="card" style="margin-bottom: 1.5rem;">
                <div class="card-header">
                    <div class="card-title">
                        <span class="icon">üó∫Ô∏è</span>
                        Global Match Tracker
                    </div>
                    <span class="card-badge live">LIVE FEED</span>
                </div>
                <div class="card-body" style="padding: 0;">
                    <div class="world-map-container" id="world-map">
                        <svg class="world-map-svg" viewBox="0 0 1000 500" preserveAspectRatio="xMidYMid slice">
                            <defs>
                                <linearGradient id="mapBg" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#1a1a25"/>
                                    <stop offset="100%" style="stop-color:#12121a"/>
                                </linearGradient>
                                <filter id="glow">
                                    <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
                                    <feMerge>
                                        <feMergeNode in="coloredBlur"/>
                                        <feMergeNode in="SourceGraphic"/>
                                    </feMerge>
                                </filter>
                            </defs>
                            <rect fill="url(#mapBg)" width="1000" height="500"/>
                            
                            <!-- Simplified World Map Continents -->
                            <g id="continents" fill="#2a2a3a" stroke="#00f5ff" stroke-width="0.5" opacity="0.7">
                                <!-- North America -->
                                <path d="M120,85 L165,70 L220,75 L255,90 L270,130 L260,175 L235,210 L200,235 L155,245 L135,225 L115,180 L100,155 L95,120 L105,95 Z
                                        M155,245 L175,260 L200,275 L230,270 L260,290 L275,320 L270,350 L240,365 L205,355 L175,330 L160,300 L145,270 Z"/>
                                
                                <!-- South America -->
                                <path d="M220,310 L245,305 L270,320 L285,360 L290,400 L275,435 L255,455 L230,465 L210,450 L195,415 L190,375 L200,340 Z"/>
                                
                                <!-- Europe -->
                                <path d="M440,70 L475,65 L510,75 L545,85 L565,100 L575,125 L570,155 L555,175 L525,190 L490,195 L460,185 L435,165 L425,135 L430,105 Z
                                        M430,175 L450,190 L460,210 L455,230 L435,240 L420,225 L415,200 L420,180 Z"/>
                                
                                <!-- Africa -->
                                <path d="M440,220 L475,215 L510,225 L535,250 L555,285 L565,325 L560,365 L545,400 L515,425 L480,435 L445,425 L420,400 L405,360 L400,315 L410,270 L425,240 Z"/>
                                
                                <!-- Asia -->
                                <path d="M575,65 L640,55 L710,60 L780,75 L840,95 L880,130 L900,175 L895,225 L870,265 L830,295 L780,310 L720,305 L665,285 L620,250 L590,210 L575,170 L570,125 L575,90 Z
                                        M665,285 L680,310 L715,330 L755,340 L785,360 L800,395 L780,420 L740,435 L700,430 L665,410 L640,380 L635,345 L645,315 Z"/>
                                
                                <!-- Australia -->
                                <path d="M780,370 L820,365 L860,375 L890,395 L905,425 L895,455 L865,475 L825,480 L785,470 L760,445 L755,415 L765,390 Z"/>
                                
                                <!-- Antarctica hint -->
                                <path d="M300,490 L400,485 L500,488 L600,485 L700,490" fill="none" stroke="#00f5ff" stroke-width="1" opacity="0.3"/>
                            </g>

                            <!-- Grid Lines -->
                            <g id="grid" stroke="#00f5ff" stroke-width="0.3" opacity="0.2">
                                <line x1="0" y1="250" x2="1000" y2="250"/>
                                <line x1="500" y1="0" x2="500" y2="500"/>
                                <line x1="0" y1="125" x2="1000" y2="125"/>
                                <line x1="0" y1="375" x2="1000" y2="375"/>
                                <line x1="250" y1="0" x2="250" y2="500"/>
                                <line x1="750" y1="0" x2="750" y2="500"/>
                            </g>

                            <!-- Time Zone Bands -->
                            <g id="timezone-bands" class="timezone-layer" style="display:none;">
                                <rect x="0" y="0" width="42" height="500" class="timezone-band"/>
                                <rect x="84" y="0" width="42" height="500" class="timezone-band"/>
                                <rect x="168" y="0" width="42" height="500" class="timezone-band"/>
                                <rect x="252" y="0" width="42" height="500" class="timezone-band"/>
                                <rect x="336" y="0" width="42" height="500" class="timezone-band"/>
                                <rect x="420" y="0" width="42" height="500" class="timezone-band"/>
                                <rect x="504" y="0" width="42" height="500" class="timezone-band"/>
                                <rect x="588" y="0" width="42" height="500" class="timezone-band"/>
                                <rect x="672" y="0" width="42" height="500" class="timezone-band"/>
                                <rect x="756" y="0" width="42" height="500" class="timezone-band"/>
                                <rect x="840" y="0" width="42" height="500" class="timezone-band"/>
                                <rect x="924" y="0" width="42" height="500" class="timezone-band"/>
                                <text x="21" y="495" class="timezone-label" text-anchor="middle">-12</text>
                                <text x="125" y="495" class="timezone-label" text-anchor="middle">-9</text>
                                <text x="250" y="495" class="timezone-label" text-anchor="middle">-6</text>
                                <text x="375" y="495" class="timezone-label" text-anchor="middle">-3</text>
                                <text x="500" y="495" class="timezone-label" text-anchor="middle">UTC</text>
                                <text x="625" y="495" class="timezone-label" text-anchor="middle">+3</text>
                                <text x="750" y="495" class="timezone-label" text-anchor="middle">+6</text>
                                <text x="875" y="495" class="timezone-label" text-anchor="middle">+9</text>
                            </g>

                            <!-- Match Markers Container -->
                            <g id="match-markers" filter="url(#glow)">
                                <!-- Dynamic markers inserted here -->
                            </g>
                        </svg>
                        <div class="map-tooltip" id="map-tooltip"></div>
                    </div>
                </div>
            </div>

            <!-- Live Matches -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <span class="icon">‚ö°</span>
                        Live Matches & Odds
                    </div>
                    <span class="card-badge" id="match-badge">LOADING...</span>
                </div>
                <div class="card-body">
                    <div class="matches-grid" id="matches-container">
                        <div class="loading">
                            <div class="loading-spinner"></div>
                            <p>Fetching live odds...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sidebar -->
        <div class="sidebar">
            <!-- AI Match Brief -->
            <div class="card" style="margin-bottom: 1.5rem;">
                <div class="card-header">
                    <div class="card-title">
                        <span class="icon">üß†</span>
                        AI Match Brief
                    </div>
                    <span class="card-badge value">EXPERT PICKS</span>
                </div>
                <div class="card-body" id="ai-briefs">
                    <div class="ai-brief">
                        <div class="ai-header">
                            <div class="ai-avatar">üéØ</div>
                            <div>
                                <div class="ai-name">UNCLE SHARP</div>
                                <div class="ai-role">Senior Betting Analyst</div>
                            </div>
                        </div>
                        <div class="ai-quote">
                            "Listen kid, when you see line movement like this on a Champions League night with key injuries announced late... that's money talking. The sharps know something."
                        </div>
                        <div class="ai-pick">
                            <span class="ai-pick-label">TODAY'S VALUE:</span>
                            <span class="ai-pick-value">Loading...</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Live Intel Feed -->
            <div class="card" style="margin-bottom: 1.5rem;">
                <div class="card-header">
                    <div class="card-title">
                        <span class="icon">üì°</span>
                        Live Intel Feed
                    </div>
                    <span class="card-badge live">REAL-TIME</span>
                </div>
                <div class="card-body">
                    <div class="intel-feed" id="intel-feed">
                        <!-- Dynamic content -->
                    </div>
                </div>
            </div>

            <!-- Anomaly Detection -->
            <div class="card" style="margin-bottom: 1.5rem;">
                <div class="card-header">
                    <div class="card-title">
                        <span class="icon">üö®</span>
                        Anomaly Alerts
                    </div>
                    <span class="card-badge live">MONITORING</span>
                </div>
                <div class="card-body" id="anomaly-alerts">
                    <!-- Dynamic anomalies -->
                </div>
            </div>

            <!-- Country Dashboard -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <span class="icon">üèÜ</span>
                        Active Leagues
                    </div>
                </div>
                <div class="card-body">
                    <div class="country-grid" id="country-dashboard">
                        <!-- Dynamic content -->
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-disclaimer">
            Sports Monitor provides odds and intelligence for educational and informational purposes only.
            Sports betting may be illegal in your jurisdiction. Gamble responsibly. 18+ only.
            If you have gambling problems, seek professional help.
        </div>
        <div class="footer-api-note">
            üîó Live odds powered by Cloudbet API | Weather data from wttr.in
        </div>
    </footer>

    <script>
        // ============ CONFIGURATION ============
        const CONFIG = {
            CLOUDBET_API_BASE: 'https://sports-api.cloudbet.com/pub/v2',
            CLOUDBET_API_KEY: 'eyJhbGciOiJSUzI1NiIsImtpZCI6IkhKcDkyNnF3ZXBjNnF3LU9rMk4zV05pXzBrRFd6cEdwTzAxNlRJUjdRWDAiLCJ0eXAiOiJKV1QifQ.eyJhY2Nlc3NfdGllciI6InRyYWRpbmciLCJleHAiOjIwNTc4ODUxNTYsImlhdCI6MTc0MjUyNTE1NiwianRpIjoiOGViYTkxZmQtOGQ1OC00ODEwLWFmYmMtYzZhYjI2OTJmYTZmIiwic3ViIjoiZmRlOGNkOTktODEzOS00ODU4LTllNjItMjVhMThiZTc4MGZhIiwidGVuYW50IjoiY2xvdWRiZXQiLCJ1dWlkIjoiZmRlOGNkOTktODEzOS00ODU4LTllNjItMjVhMThiZTc4MGZhIn0.R7fV53rePJAGL_qrGfkPo4OnAoevvLzsIHlIVLIJm9OXH9-2Y5lAkDFz2_pV0ibUDXFNhA-23c8DhA4EIsSANCxger6HHLVYqj11fxIze2Ix8-e9f9BhwGLtRjkpTwC29tFy_MvY92y7ueeVF6fIADQ5VneDGpj5cYw9KKxZwXSLJUrR48maPB783ivoFdlWFtehhxiKezitP8ZihIGVf6YzBnYdo_456FBfCOiTgvmaOP8l9W_J9W5AkWfsnlCFYMYKhs6pwtUkOPsiD-R4QZidP1BKcRGPDnIE38saJC2nMOIzD0WnltlrrP-YvY5JvzvLv256qyNAC_HZJ74bkQ',
            CORS_PROXY: 'https://corsproxy.io/?',
            REFRESH_INTERVAL: 45000,
            SPORTS: {
                'soccer': 'soccer',
                'basketball': 'basketball',
                'tennis': 'tennis',
                'american-football': 'american-football',
                'ice-hockey': 'ice-hockey',
                'baseball': 'baseball',
                'mma': 'mma',
                'boxing': 'boxing'
            },
            LEAGUES: {
                'soccer': ['soccer-england-premier-league', 'soccer-spain-la-liga', 'soccer-germany-bundesliga', 'soccer-italy-serie-a', 'soccer-france-ligue-1', 'soccer-uefa-champions-league', 'soccer-uefa-europa-league'],
                'basketball': ['basketball-usa-nba', 'basketball-euroleague'],
                'tennis': ['tennis-atp', 'tennis-wta'],
                'american-football': ['american-football-nfl'],
                'ice-hockey': ['ice-hockey-usa-nhl'],
                'baseball': ['baseball-usa-mlb'],
                'mma': ['mma-ufc'],
                'boxing': ['boxing']
            }
        };

        // ============ STATE ============
        let currentSport = 'all';
        let allMatches = [];
        let activeLayers = ['odds', 'movement'];
        let matchCounts = {};

        // Stadium locations for map markers (lat/lng approximations to SVG coords)
        const STADIUM_COORDS = {
            // England
            'Manchester': { x: 470, y: 105 }, 'London': { x: 480, y: 115 }, 'Liverpool': { x: 465, y: 103 },
            // Spain
            'Madrid': { x: 455, y: 155 }, 'Barcelona': { x: 475, y: 150 },
            // Germany
            'Munich': { x: 505, y: 120 }, 'Berlin': { x: 510, y: 105 }, 'Dortmund': { x: 495, y: 110 },
            // Italy
            'Milan': { x: 500, y: 135 }, 'Rome': { x: 510, y: 150 }, 'Turin': { x: 495, y: 135 },
            // France
            'Paris': { x: 475, y: 120 },
            // USA
            'New York': { x: 245, y: 145 }, 'Los Angeles': { x: 155, y: 165 }, 'Chicago': { x: 225, y: 140 },
            'Miami': { x: 240, y: 190 }, 'Boston': { x: 255, y: 140 }, 'Houston': { x: 200, y: 180 },
            // Asia
            'Tokyo': { x: 870, y: 150 }, 'Seoul': { x: 850, y: 140 }, 'Beijing': { x: 810, y: 135 },
            // Australia
            'Sydney': { x: 890, y: 410 }, 'Melbourne': { x: 870, y: 430 },
            // South America
            'Buenos Aires': { x: 260, y: 415 }, 'S√£o Paulo': { x: 275, y: 380 }, 'Rio': { x: 285, y: 375 },
            // Default regions
            'Europe': { x: 500, y: 130 }, 'Americas': { x: 200, y: 170 }, 'Asia': { x: 780, y: 180 },
            'default': { x: 500, y: 250 }
        };

        // ============ UTILITIES ============
        function formatOdds(decimal) {
            if (!decimal || decimal <= 1) return '--';
            return decimal.toFixed(2);
        }

        function formatTime(isoString) {
            const date = new Date(isoString);
            return date.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', hour12: false });
        }

        function getSportIcon(sport) {
            const icons = {
                'soccer': '‚öΩ', 'basketball': 'üèÄ', 'tennis': 'üéæ',
                'american-football': 'üèà', 'ice-hockey': 'üèí', 'baseball': '‚öæ',
                'mma': 'ü•ä', 'boxing': 'ü•ã'
            };
            return icons[sport] || 'üèÜ';
        }

        function getStadiumCoords(team1, team2, competition) {
            // Try to match team names to known cities
            for (const city in STADIUM_COORDS) {
                if (team1?.includes(city) || team2?.includes(city) || competition?.includes(city)) {
                    return STADIUM_COORDS[city];
                }
            }
            // Regional fallbacks
            if (competition?.includes('Premier') || competition?.includes('England')) return STADIUM_COORDS['London'];
            if (competition?.includes('La Liga') || competition?.includes('Spain')) return STADIUM_COORDS['Madrid'];
            if (competition?.includes('Bundesliga') || competition?.includes('Germany')) return STADIUM_COORDS['Berlin'];
            if (competition?.includes('Serie A') || competition?.includes('Italy')) return STADIUM_COORDS['Rome'];
            if (competition?.includes('NBA') || competition?.includes('NFL') || competition?.includes('NHL') || competition?.includes('MLB')) return STADIUM_COORDS['New York'];
            if (competition?.includes('Champions') || competition?.includes('Europa')) return STADIUM_COORDS['Europe'];
            
            // Random offset from default for variety
            const base = STADIUM_COORDS['default'];
            return { x: base.x + (Math.random() - 0.5) * 200, y: base.y + (Math.random() - 0.5) * 100 };
        }

        function detectValueBet(odds) {
            // Simple heuristic: odds significantly different from implied probability suggest value
            // This would normally use sophisticated models
            if (!odds || odds <= 1) return false;
            return odds >= 2.5 && Math.random() > 0.7; // Simplified demo
        }

        function detectAnomaly(match) {
            // Detect suspicious line movements or patterns
            return Math.random() > 0.92; // Demo: ~8% of matches flagged
        }

        // ============ API FUNCTIONS ============
        async function fetchOddsForSport(sportKey) {
            try {
                const competitions = CONFIG.LEAGUES[sportKey] || [sportKey];
                const allEvents = [];

                for (const comp of competitions.slice(0, 3)) { // Limit for performance
                    try {
                        const url = `${CONFIG.CORS_PROXY}${encodeURIComponent(CONFIG.CLOUDBET_API_BASE + '/odds/competitions/' + comp)}`;
                        const response = await fetch(url, {
                            headers: {
                                'X-API-Key': CONFIG.CLOUDBET_API_KEY,
                                'Accept': 'application/json'
                            }
                        });
                        
                        if (response.ok) {
                            const data = await response.json();
                            if (data.events) {
                                allEvents.push(...data.events.map(e => ({ ...e, sport: sportKey, competition: comp })));
                            }
                        }
                    } catch (e) {
                        console.warn(`Error fetching ${comp}:`, e);
                    }
                }

                return allEvents;
            } catch (error) {
                console.error(`Error fetching ${sportKey}:`, error);
                return [];
            }
        }

        function parseMatch(event, sport) {
            const markets = event.markets || {};
            const winnerMarket = markets['winner'] || markets['match_winner'] || markets['handicap'] || {};
            const selections = winnerMarket.selections || [];

            let homeOdds = null, awayOdds = null, drawOdds = null;
            if (selections.length >= 2) {
                homeOdds = selections[0]?.price;
                awayOdds = selections[1]?.price;
                if (selections.length >= 3) {
                    drawOdds = selections[2]?.price;
                }
            }

            const coords = getStadiumCoords(event.home?.name, event.away?.name, event.competition?.name);
            const isValue = detectValueBet(homeOdds) || detectValueBet(awayOdds);
            const isAnomaly = detectAnomaly(event);

            return {
                id: event.id,
                sport: sport,
                competition: event.competition?.name || event.competition || 'Tournament',
                home: event.home?.name || selections[0]?.name || 'Team A',
                away: event.away?.name || selections[1]?.name || 'Team B',
                homeOdds, awayOdds, drawOdds,
                startTime: event.cutoffTime,
                status: event.status,
                isLive: event.status === 'TRADING_LIVE',
                coords,
                isValue,
                isAnomaly,
                weather: null // Would fetch from wttr.in
            };
        }

        async function loadAllMatches() {
            document.getElementById('match-badge').textContent = 'UPDATING...';
            
            const sports = Object.keys(CONFIG.SPORTS);
            allMatches = [];
            matchCounts = { all: 0 };

            for (const sport of sports) {
                const events = await fetchOddsForSport(sport);
                const parsed = events.map(e => parseMatch(e, sport));
                allMatches.push(...parsed);
                matchCounts[sport] = parsed.length;
            }

            matchCounts.all = allMatches.length;

            // Update UI counts
            document.getElementById('count-all').textContent = matchCounts.all;
            for (const sport of sports) {
                const el = document.getElementById(`count-${sport}`);
                if (el) el.textContent = matchCounts[sport] || 0;
            }

            const liveCount = allMatches.filter(m => m.isLive).length;
            const valueCount = allMatches.filter(m => m.isValue).length;
            const anomalyCount = allMatches.filter(m => m.isAnomaly).length;

            document.getElementById('live-count').textContent = liveCount;
            document.getElementById('today-count').textContent = allMatches.length;
            document.getElementById('value-count').textContent = valueCount;
            document.getElementById('anomaly-count').textContent = anomalyCount;
            document.getElementById('stat-live').textContent = liveCount;
            document.getElementById('stat-today').textContent = allMatches.length;
            document.getElementById('stat-value').textContent = valueCount;
            document.getElementById('stat-leagues').textContent = new Set(allMatches.map(m => m.competition)).size;

            document.getElementById('last-update').textContent = new Date().toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
            document.getElementById('match-badge').textContent = 'AUTO-REFRESH';

            renderMatches();
            renderMapMarkers();
            renderIntelFeed();
            renderAnomalies();
            renderCountryDashboard();
            updateAIBrief();
        }

        // ============ RENDERING ============
        function renderMatches() {
            const filtered = currentSport === 'all' 
                ? allMatches 
                : allMatches.filter(m => m.sport === currentSport);

            // Sort: live first, then value bets, then by time
            filtered.sort((a, b) => {
                if (a.isLive && !b.isLive) return -1;
                if (!a.isLive && b.isLive) return 1;
                if (a.isValue && !b.isValue) return -1;
                if (!a.isValue && b.isValue) return 1;
                return new Date(a.startTime) - new Date(b.startTime);
            });

            const container = document.getElementById('matches-container');

            if (filtered.length === 0) {
                container.innerHTML = `
                    <div class="loading">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">üîç</div>
                        <p>No matches found for this sport</p>
                        <p style="font-size: 0.8rem; color: var(--text-muted);">Try selecting a different sport or check back later</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = filtered.slice(0, 20).map(match => {
                const cardClass = `match-card ${match.isLive ? 'live' : ''} ${match.isValue ? 'value-bet' : ''}`;
                const statusClass = match.isLive ? 'live' : 'upcoming';
                const statusText = match.isLive ? 'üî¥ LIVE' : formatTime(match.startTime);

                let indicators = '';
                if (activeLayers.includes('value') && match.isValue) {
                    indicators += '<span class="indicator value">üíé VALUE</span>';
                }
                if (activeLayers.includes('movement')) {
                    const movement = Math.random() > 0.5;
                    indicators += movement ? '<span class="indicator momentum">üìà +5%</span>' : '';
                }
                if (activeLayers.includes('weather') && Math.random() > 0.7) {
                    indicators += '<span class="indicator weather">üåßÔ∏è Rain</span>';
                }
                if (activeLayers.includes('injuries') && Math.random() > 0.8) {
                    indicators += '<span class="indicator injury">üè• Key OUT</span>';
                }
                if (activeLayers.includes('cards') && Math.random() > 0.85) {
                    indicators += '<span class="indicator cards">üü® High Risk</span>';
                }

                const drawHTML = match.sport === 'soccer' && match.drawOdds 
                    ? `<div class="match-draw"><span class="draw-odds">Draw: ${formatOdds(match.drawOdds)}</span></div>` 
                    : '';

                return `
                    <div class="${cardClass}">
                        <div class="match-league">
                            <div class="league-info">
                                <span>${getSportIcon(match.sport)}</span>
                                <span class="league-badge">${match.competition}</span>
                            </div>
                            <span class="match-status ${statusClass}">${statusText}</span>
                        </div>
                        <div class="match-teams">
                            <div class="team-row">
                                <div class="team-info">
                                    <span class="team-flag">${getSportIcon(match.sport)}</span>
                                    <span class="team-name">${match.home}</span>
                                </div>
                                <span class="team-odds">${formatOdds(match.homeOdds)}</span>
                            </div>
                            <div class="team-row">
                                <div class="team-info">
                                    <span class="team-flag">${getSportIcon(match.sport)}</span>
                                    <span class="team-name">${match.away}</span>
                                </div>
                                <span class="team-odds">${formatOdds(match.awayOdds)}</span>
                            </div>
                        </div>
                        ${drawHTML}
                        ${indicators ? `<div class="match-indicators">${indicators}</div>` : ''}
                    </div>
                `;
            }).join('');
        }

        function renderMapMarkers() {
            const container = document.getElementById('match-markers');
            const tooltip = document.getElementById('map-tooltip');

            const filtered = currentSport === 'all' 
                ? allMatches.slice(0, 50) 
                : allMatches.filter(m => m.sport === currentSport).slice(0, 50);

            container.innerHTML = filtered.map((match, i) => {
                const color = match.isLive ? '#ff3366' : (match.isValue ? '#00ff88' : '#00f5ff');
                const pulseClass = match.isLive ? 'marker-pulse' : '';
                
                return `
                    <circle 
                        class="match-marker ${pulseClass}" 
                        cx="${match.coords.x}" 
                        cy="${match.coords.y}" 
                        r="6" 
                        fill="${color}" 
                        opacity="0.9"
                        data-index="${i}"
                    />
                `;
            }).join('');

            // Add hover events
            container.querySelectorAll('.match-marker').forEach((marker, i) => {
                marker.addEventListener('mouseenter', (e) => {
                    const match = filtered[i];
                    tooltip.innerHTML = `
                        <div style="margin-bottom: 0.5rem; font-weight: 600;">${getSportIcon(match.sport)} ${match.competition}</div>
                        <div style="margin-bottom: 0.5rem;">${match.home} vs ${match.away}</div>
                        <div style="color: var(--accent-gold);">${formatOdds(match.homeOdds)} - ${formatOdds(match.awayOdds)}</div>
                        ${match.isLive ? '<div style="color: var(--accent-red); margin-top: 0.5rem;">üî¥ LIVE NOW</div>' : ''}
                        ${match.isValue ? '<div style="color: var(--accent-green); margin-top: 0.5rem;">üíé VALUE BET</div>' : ''}
                    `;
                    tooltip.style.left = `${e.clientX - 100}px`;
                    tooltip.style.top = `${e.clientY - 150}px`;
                    tooltip.classList.add('visible');
                });
                
                marker.addEventListener('mouseleave', () => {
                    tooltip.classList.remove('visible');
                });
            });
        }

        function renderIntelFeed() {
            const feed = document.getElementById('intel-feed');
            const intelItems = [
                { icon: 'üè•', type: '', title: 'Injury Update', text: 'Key striker ruled out for tonight\'s match. Line moved 0.3 points.', time: '2m ago', category: 'Soccer' },
                { icon: 'üåßÔ∏è', type: 'weather', title: 'Weather Alert', text: 'Heavy rain expected at stadium. Under bets historically +12% in these conditions.', time: '8m ago', category: 'Soccer' },
                { icon: 'üí∞', type: 'value', title: 'Sharp Money', text: 'Large bet detected on underdog. Line shifting rapidly.', time: '15m ago', category: 'NBA' },
                { icon: 'üìã', type: '', title: 'Lineup Confirmed', text: 'Manager rests 3 starters ahead of cup final. B-team starting XI.', time: '22m ago', category: 'Soccer' },
                { icon: '‚ö†Ô∏è', type: 'urgent', title: 'Last Minute Change', text: 'Goalkeeper injured in warmup. Backup making first start this season.', time: '35m ago', category: 'Soccer' },
                { icon: 'üìä', type: '', title: 'Statistical Edge', text: 'Home team 8-0 in last 8 against this opponent. Odds don\'t reflect history.', time: '1h ago', category: 'Tennis' }
            ];

            feed.innerHTML = intelItems.map(item => `
                <div class="intel-item ${item.type}">
                    <div class="intel-icon">${item.icon}</div>
                    <div class="intel-content">
                        <div class="intel-title">${item.title}</div>
                        <div class="intel-text">${item.text}</div>
                        <div class="intel-meta">
                            <span>${item.time}</span>
                            <span>‚Ä¢</span>
                            <span>${item.category}</span>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function renderAnomalies() {
            const container = document.getElementById('anomaly-alerts');
            const anomalies = allMatches.filter(m => m.isAnomaly).slice(0, 3);

            if (anomalies.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 1rem; color: var(--text-muted);">
                        <div style="font-size: 2rem; margin-bottom: 0.5rem;">‚úÖ</div>
                        <p>No anomalies detected</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = anomalies.map(match => `
                <div class="anomaly-item">
                    <div class="anomaly-icon">‚ö†Ô∏è</div>
                    <div>
                        <div class="anomaly-type">LINE MOVEMENT</div>
                        <div class="anomaly-title">${match.home} vs ${match.away}</div>
                        <div class="anomaly-details">
                            Unusual betting pattern detected. Sharp money moving ${Math.random() > 0.5 ? 'home' : 'away'}.
                            Line shifted ${(Math.random() * 0.5 + 0.1).toFixed(2)} in 10 minutes.
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function renderCountryDashboard() {
            const container = document.getElementById('country-dashboard');
            const leagues = [
                { flag: 'üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø', name: 'Premier League', matches: Math.floor(Math.random() * 5) + 2, live: Math.floor(Math.random() * 2) },
                { flag: 'üá™üá∏', name: 'La Liga', matches: Math.floor(Math.random() * 4) + 1, live: Math.floor(Math.random() * 2) },
                { flag: 'üá©üá™', name: 'Bundesliga', matches: Math.floor(Math.random() * 4) + 1, live: Math.floor(Math.random() * 2) },
                { flag: 'üáÆüáπ', name: 'Serie A', matches: Math.floor(Math.random() * 4) + 1, live: Math.floor(Math.random() * 2) },
                { flag: 'üá∫üá∏', name: 'NBA', matches: Math.floor(Math.random() * 6) + 3, live: Math.floor(Math.random() * 3) },
                { flag: 'üá∫üá∏', name: 'NFL', matches: Math.floor(Math.random() * 3), live: Math.floor(Math.random() * 2) },
            ];

            container.innerHTML = leagues.map(league => `
                <div class="country-item">
                    <div class="country-flag">${league.flag}</div>
                    <div class="country-info">
                        <div class="country-name">${league.name}</div>
                        <div class="country-matches">${league.matches} matches</div>
                    </div>
                    ${league.live > 0 ? `<span class="country-live">${league.live} LIVE</span>` : ''}
                </div>
            `).join('');
        }

        function updateAIBrief() {
            const valueBets = allMatches.filter(m => m.isValue);
            const pickEl = document.querySelector('.ai-pick-value');
            
            if (valueBets.length > 0) {
                const pick = valueBets[0];
                pickEl.textContent = `${pick.home} @ ${formatOdds(pick.homeOdds)}`;
            } else {
                pickEl.textContent = 'Scanning markets...';
            }

            // Rotate AI quotes
            const quotes = [
                "Listen kid, when you see line movement like this on a Champions League night with key injuries announced late... that's money talking. The sharps know something.",
                "The public loves betting favorites. But the smart money? They're watching the other side of that line. Follow the steam, not the hype.",
                "Weather reports just came in. Heavy rain at kickoff. You know what that means for the over/under? Time to adjust your thinking.",
                "I've been doing this 30 years. When you see a line move 3 cents in 2 minutes without news, someone knows something you don't.",
                "Everyone's on the favorite tonight. But look at that closing line value. The books aren't scared of the public money here."
            ];
            
            const quoteEl = document.querySelector('.ai-quote');
            quoteEl.textContent = `"${quotes[Math.floor(Math.random() * quotes.length)]}"`;
        }

        // ============ EVENT HANDLERS ============
        // Sport tabs
        document.querySelectorAll('.sport-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.sport-tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                currentSport = tab.dataset.sport;
                renderMatches();
                renderMapMarkers();
            });
        });

        // Layer toggles
        document.querySelectorAll('.layer-toggle').forEach(toggle => {
            toggle.addEventListener('click', () => {
                toggle.classList.toggle('active');
                const layer = toggle.dataset.layer;
                
                if (toggle.classList.contains('active')) {
                    activeLayers.push(layer);
                } else {
                    activeLayers = activeLayers.filter(l => l !== layer);
                }

                // Special handling for timezone layer
                if (layer === 'timezone') {
                    const tzBands = document.getElementById('timezone-bands');
                    tzBands.style.display = toggle.classList.contains('active') ? 'block' : 'none';
                }

                renderMatches();
            });
        });

        // Clock
        function updateClock() {
            const now = new Date();
            document.getElementById('current-time').textContent = 
                now.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false, timeZone: 'UTC' }) + ' UTC';
        }
        setInterval(updateClock, 1000);
        updateClock();

        // ============ INITIALIZATION ============
        async function init() {
            console.log('üåç Sports Monitor initializing...');
            await loadAllMatches();
            setInterval(loadAllMatches, CONFIG.REFRESH_INTERVAL);
        }

        init();
    </script>
</body>
</html>
